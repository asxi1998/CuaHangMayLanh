CREATE DATABASE QuanLyMayLanh
GO

USE  QuanLyMayLanh
GO


CREATE TABLE BOPHAN
(
	MABP  NVARCHAR(10) NOT NULL,
	TENBP NVARCHAR(50),
	PRIMARY KEY (MABP),
);
CREATE TABLE NHACUNGCAP
(
	MANCC NVARCHAR(10) NOT NULL,
	TENNCC NVARCHAR(50),
	DIACHI NVARCHAR(50),
	PRIMARY KEY (MANCC),
);

CREATE TABLE NHANVIEN
(
	MANV NVARCHAR(10) NOT NULL,
	MABP NVARCHAR(10) NOT NULL,
	TENNV NVARCHAR(50),
	GIOITINH NVARCHAR(3),
	NGAYVAOLAM DATE,
	NGAYSINH DATE,
	DIENTHOAI NVARCHAR(20),
	DIACHI NVARCHAR(50),
	PRIMARY KEY (MANV),
	FOREIGN KEY(MABP)REFERENCES BOPHAN(MABP),
);
CREATE TABLE KHACHHANG
(
	MAKH NVARCHAR(10) NOT NULL,
	TENKH NVARCHAR(50),
	DIACHI NVARCHAR(50),
	PRIMARY KEY (MAKH)
);
CREATE TABLE HANGHOA
(
	MAHANGHOA NVARCHAR(10) NOT NULL,
	TENHANGHOA NVARCHAR(50),
	SOLUONG FLOAT,
	DONGIA FLOAT,
	MANCC NVARCHAR(10),
	PRIMARY KEY (MAHANGHOA)
);
CREATE TABLE HOADONNHAP
(
	MAHDN NVARCHAR(10) NOT NULL,
	MANV NVARCHAR(10) NOT NULL,
	MANCC NVARCHAR(10) NOT NULL,
	TONGTIEN FLOAT,
	NGAYNHAP DATE,
	PRIMARY KEY (MAHDN),
	FOREIGN KEY(MANV)REFERENCES NHANVIEN,
	FOREIGN KEY(MANCC)REFERENCES NHACUNGCAP(MANCC)
);

CREATE TABLE CHITIETHOADONNHAP
(
	MACTHDN NVARCHAR(10) NOT NULL,
	MAHDN NVARCHAR(10) NOT NULL,
	MAHANGHOA NVARCHAR(10) NOT NULL,
	SOLUONG FLOAT,
	DONGIA FLOAT,
	PRIMARY KEY (MACTHDN),
	FOREIGN KEY(MAHDN)REFERENCES HOADONNHAP(MAHDN),
	FOREIGN KEY(MAHANGHOA)REFERENCES HANGHOA(MAHANGHOA)
);



CREATE TABLE HOADONXUAT
(
	MAHDX NVARCHAR(10) NOT NULL,
	MAKH NVARCHAR(10) NOT NULL,
	MANV NVARCHAR(10) NOT NULL,
	TONGTIEN FLOAT,
	NGAY DATE,
	PRIMARY KEY (MAHDX),
	FOREIGN KEY(MANV)REFERENCES NHANVIEN(MANV),
	FOREIGN KEY(MAKH)REFERENCES KHACHHANG(MAKH)
);

CREATE TABLE CHITIETHOADONXUAT
(
	MACTHDX NVARCHAR(10) NOT NULL,
	MAHDX NVARCHAR(10) NOT NULL,
	MAHANGHOA NVARCHAR(10) NOT NULL,
	SOLUONG FLOAT,
	DONGIA FLOAT,
	PRIMARY KEY (MACTHDX),
	FOREIGN KEY(MAHDX)REFERENCES HOADONXUAT,
	FOREIGN KEY(MAHANGHOA)REFERENCES HANGHOA(MAHANGHOA)
);


CREATE TABLE NGUOIDUNG
(
	MAND NVARCHAR(10) NOT NULL,
	QUYEN NVARCHAR(10),
	MATKHAU NVARCHAR(50),
	PRIMARY KEY (MAND),
	FOREIGN KEY(MAND)REFERENCES NHANVIEN(MANV)
);

 CREATE TABLE THONGKE
 (
	STT INT,
	MAHANGHOA NVARCHAR(10) NOT NULL,
	TENHANGHOA NVARCHAR(50),
	SOLUONG FLOAT,
	DONGIA FLOAT,
	TONGTIEN FLOAT,
	NGAY DATE,
	TENNCC NVARCHAR(50),
	PRIMARY KEY (STT),
	FOREIGN KEY(MAHANGHOA)REFERENCES HANGHOA(MAHANGHOA)
 );
INSERT INTO BOPHAN VALUES ('BP1',N'Quản lý') 
INSERT INTO BOPHAN VALUES ('BP2',N'Nhân Viên')
INSERT INTO BOPHAN VALUES ('BP3',N'Bảo vệ' )
INSERT INTO BOPHAN VALUES ('BP4',N'Lao công')
INSERT INTO BOPHAN VALUES ('BP5',N'Trưởng phòng' )
INSERT INTO BOPHAN VALUES ('BP6',N'Thư kí')
INSERT INTO BOPHAN VALUES ('BP7',N'Tiếp thị' )
INSERT INTO BOPHAN VALUES ('BP8',N'Thu Ngân')
INSERT INTO BOPHAN VALUES ('BP9',N'Tư vấn' )
INSERT INTO BOPHAN VALUES ('BP10',N'Kỹ thuật ')

INSERT INTO NHACUNGCAP VALUES ('NCC1','PANASONIC',N'Hà Nội'),
							  ('NCC2','SONY',N'Phú Yên'),
							  ('NCC3','MITSUBITSHI',N'Gia Lai'),
							  ('NCC4','SANYO',N'TP.HCM'),
							  ('NCC5','HITACHI',N'Hà Nội'),
							  ('NCC6','AQUA',N'TP.HCM'), 
							  ('NCC7','SHARP',N'TP.HCM'),
							  ('NCC8','SUNHOUSE',N'Hà Giang'),
							  ('NCC9','SUPORT',N'Bình Phước'),
							  ('NCC10','GG',N'Quảng Đông')

SET DATEFORMAT DMY
INSERT INTO NHANVIEN VALUES ('NV1','BP1',N'Trần Thị Thanh Thu',N'Nữ','26/1/2010','3/1/1998','0985613375',N'Bình Phước'),
							('NV2','BP2',N'Trần Thị Tuyết',N'Nữ','2/8/2014','30/8/1998','0325689712',N'Lâm Đồng'),
							('NV3','BP5',N'Trần Thanh Tân',N'Nam','3/9/2012','3/6/1995','0923569874',N'Đồng Nai'),
							('NV4','BP4',N'Hoàng Thị Liên',N'Nữ','15/8/2016','25/5/1970','0324568975',N'TP.HCM'),
							('NV5','BP3',N'Bùi Thanh Trung',N'Nam','20/6/2017','26/4/1989','0335698421',N'TP.HCM'),
							('NV6','BP6',N'Chu Mạnh Đức',N'Nam','12/5/2015','3/2/1988','03458612852',N'Yên Bái'),
							('NV7','BP7',N'Lâm Tân Minh',N'Nam','21/1/2014','15/7/1987','0922356899',N'Đồng Tháp'),
							('NV8','BP2',N'Hà Thiên Lộ',N'Nữ','2/2/2013','3/11/1977','0356214788',N'Long An'),
							('NV9','BP8',N'Trần Thu Trúc',N'Nữ','23/3/2012','23/12/1980','0325656589',N'Kiêng giang'),
							('NV10','BP2',N'Lương Trung Kiên',N'Nữ','12/4/2011','13/10/1985','0988688522',N'Tp.HCM')
							   
INSERT INTO KHACHHANG VALUES ('KH001',N'Tô Khiết Thanh',N'TP.HCM'),
							 ('KH002',N'Tô Tô Nam',N'TP.HCM'),
							 ('KH003',N'Hoàng Minh Nhựt',N'Long An'),
							 ('KH004',N'Hà Minh Trị',N'Đồng Nai'),
							 ('KH005',N'Lâm Á Hân',N'Bình Dương'),
							 ('KH006',N'Trần Duy Đức',N'Tây Ninh'),
							 ('KH007',N'Triệu Hồng Thanh',N'Long An'),
							 ('KH008',N'Hoài Minh Sơn',N'TP.HCM'),
							 ('KH009',N'Bùi Lê Mận',N'TP.HCM'),
							 ('KH010',N'Trần Thiên Thời',N'TP.HCM')

INSERT INTO HANGHOA VALUES ('HH1',N'Máy lạnh khối',20,1000,'NCC1'),
						   ('HH2',N'Máy lạnh đứng',20,1000,'NCC4'),
						   ('HH3',N'Máy lạnh làm lạnh bằng nước',20,1000,'NCC5'),
						   ('HH4',N'Máy lạnh treo tường',20,1000,'NCC8'),
						   ('HH5',N'Máy lạnh multi-split',20,1000,'NCC9'),
						   ('HH6',N'Máy điều hòa trung tâm kiểu phân tán',20,1000,'NCC10'),
						   ('HH7',N'Máy điều hòa kiểu trung tâm',20,1000,'NCC6')
						   

						  

INSERT INTO HOADONNHAP VALUES ('HDN01','NV10','NCC1',1000,'24/5/2018'),
							  ('HDN02','NV2','NCC2',1000,'2/5/2018'),
							  ('HDN03','NV8','NCC3',1000,'21/3/2018'),
							  ('HDN04','NV8','NCC4',1000,'21/2/2018'),
							  ('HDN05','NV10','NCC5',1000,'12/6/2018'),
							  ('HDN06','NV2','NCC6',1000,'10/5/2018'),
							  ('HDN07','NV2','NCC7',1000,'6/2/2018'),
							  ('HDN08','NV8','NCC8',1000,'2/4/2018'),
							  ('HDN09','NV8','NCC9',1000,'22/3/2018'),
							  ('HDN10','NV10','NCC10',1000,'8/5/2018')

INSERT INTO CHITIETHOADONNHAP VALUES ('CTHDN01','HDN01','HH1',2,2000),
									 ('CTHDN02','HDN02','HH3',1,1000),
									 ('CTHDN03','HDN03','HH4',3,3000),
									 ('CTHDN04','HDN04','HH5',4,4000),
									 ('CTHDN05','HDN05','HH6',2,2000),
									 ('CTHDN06','HDN06','HH7',2,2000),
									 ('CTHDN07','HDN07','HH1',1,1000),
									 ('CTHDN08','HDN08','HH4',2,2000),
									 ('CTHDN09','HDN09','HH2',1,1000),
									 ('CTHDN10','HDN10','HH1',1,1000)

INSERT INTO HOADONXUAT VALUES ('HDX1','KH001','NV2',1000,'20/11/2017'),
							  ('HDX2','KH002','NV8',1000,'2/12/2017'),
							  ('HDX3','KH003','NV10',1000,'21/1/2018'),
							  ('HDX4','KH004','NV8',1000,'20/1/2018'),
							  ('HDX5','KH005','NV8',1000,'15/11/2017'),
							  ('HDX6','KH006','NV8',1000,'10/11/2017'),
							  ('HDX7','KH007','NV2',1000,'2/11/2017'),
							  ('HDX8','KH008','NV8',1000,'18/11/2017'),
							  ('HDX9','KH009','NV8',1000,'16/11/2017'),
							  ('HDX10','KH010','NV10',1000,'10/11/2017')	
							  
INSERT INTO CHITIETHOADONXUAT VALUES ('CTHDX1','HDX1','HH1',2,2000),
									 ('CTHDX2','HDX2','HH2',1,1000),
									 ('CTHDX3','HDX3','HH3',1,1000),
									 ('CTHDX4','HDX4','HH4',1,1000),
									 ('CTHDX5','HDX5','HH7',1,1000),
									 ('CTHDX6','HDX6','HH1',1,1000),
									 ('CTHDX7','HDX7','HH5',1,1000),
									 ('CTHDX8','HDX8','HH6',2,2000),
									 ('CTHDX9','HDX9','HH1',2,2000),
									 ('CTHDX10','HDX10','HH1',2,2000)

INSERT INTO NGUOIDUNG VALUES ('NV1','NHANVIEN','A'),
							 ('NV2','NHANVIEN','A'),
							 ('NV3','NHANVIEN','A'),
							 ('NV4','NHANVIEN','A'),
							 ('NV5','NHANVIEN','A'),
							 ('NV6','ADMIN','A'),
							 ('NV7','ADMIN','A'),
							 ('NV8','ADMIN','A'),
							 ('NV9','NHANVIEN','A'),
							 ('NV10','NHANVIEN','A')

INSERT INTO THONGKE VALUES (1,'HH1','Máy lạnh khối',4,1000,4000,'24/8/2018','HITACHI'),
						   (2,'HH1','Máy lạnh khối',4,1000,4000,'25/8/2018','AQUA'),
						   (3,'HH1','Máy lạnh khối',4,1000,4000,'26/8/2018','MITSUBITSHI'),
						   (4,'HH1','Máy lạnh khối',4,1000,4000,'27/8/2018','SHARP'), 
						   (5,'HH1','Máy lạnh khối',4,1000,4000,'22/8/2018','PANASONIC'),
						   (6,'HH1','Máy lạnh khối',4,1000,4000,'20/8/2018','SANYO'), 
						   (7,'HH1','Máy lạnh khối',4,1000,4000,'12/8/2018','SONY'),
						   (8,'HH1','Máy lạnh khối',4,1000,4000,'2/8/2018','GG'), 
						   (9,'HH1','Máy lạnh khối',4,1000,4000,'4/8/2018','SUPORT'),
						   (10,'HH1','Máy lạnh khối',4,1000,4000,'20/8/2018','SUNHOUSE'),
						   (11,'HH2','Máy lạnh khối',4,1000,4000,'20/8/2018','SUNHOUSE'),
						   (12,'HH2','Máy lạnh khối',4,1000,4000,'20/8/2018','SUNHOUSE'),
						   (13,'HH2','Máy lạnh khối',4,1000,4000,'20/8/2018','SUNHOUSE') 


